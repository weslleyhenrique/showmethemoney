
@{
    ViewBag.Title = "Exame";
}

<section style="margin-top: 5%">
    <div class="row">
        <div class="col-lg-offset-1 col-lg-4">            
            <img class="img-responsive center" src="~/img/interna-planos.png" />

        </div>

        <div class="col-lg-6">
            <br />
            <br />
            <br/>
                <div>
                    <form id="companyForm" action="https://pagseguro.uol.com.br/checkout/v2/cart.html?action=add" method="post" onsubmit="PagSeguroLightbox(this); return false" class="form-horizontal">
                        <input type="hidden" name="itemCode" id="itemCode" />
                        @*<input type="hidden" name="iot" value="button" />*@
                        @*<input type="image" src="https://stc.pagseguro.uol.com.br/public/img/botoes/pagamentos/209x48-comprar-assina.gif" name="submit" alt="Pague com PagSeguro - é rápido, grátis e seguro!" />*@

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="fullname">Nome Completo:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="fullName" id="fullName" placeholder="João da Silva" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4" for="email">E-mail:</label>
                            <div class="col-sm-8">
                                <input type="email" class="form-control" name="email" id="email" placeholder="emails@email.com" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companyName">Nome da Empresa:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="companyName" id="companyName" placeholder="Empresa ME" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companyName">CPF ou CNPJ:</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" name="identityId" id="identityId" placeholder="12345678909" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companyType">Ramo da Empresa:</label>
                            <div class="col-sm-8">
                                <select class="form-control" name="companyType" id="companyType" required>
                                    <option>Selecionar</option>
                                    <option>Indústria</option>
                                    <option>Comércio</option>
                                    <option>Serviços</option>
                                    <option>Tecnologia</option>
                                    <option>Autônomo</option>
                                </select>
                            </div>
                        </div>


                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companySize">Tamanho da Empresa:</label>
                            <div class="col-sm-8">
                                <select class="form-control" name="companySize" id="companySize" required>
                                    <option>Selecionar</option>
                                    <option>até 9 pessoas</option>
                                    <option>De 10 a 49</option>
                                    <option>50 ou mais</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companySize">Plano:</label>
                            <div class="col-sm-8">
                                <input type="radio" name="plan" id="basicPlan" value="basic" checked="checked" /> Básico &nbsp
                                <input type="radio" name="plan" id="goldPlan" value="gold" /> Gold
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-4 control-label">Facebook</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control midia" name="LikesFacebook" id="LikesFacebook" placeholder="Link da sua page no Facebook">

                            </div>
                        </div>
                        <div class="form-group goldPlanOption">
                            <label class="col-sm-4 control-label">Instagram</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control midia" name="SeguidoresInstagram" id="SeguidoresInstagram" placeholder="Link da sua page no Instagram">

                            </div>
                        </div>


                        <div class="form-group goldPlanOption">
                            <label class="col-sm-4 control-label">Linkedin</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control midia" name="SeguidoresLinkedin" id="SeguidoresLinkedin" placeholder="Link da sua page no Linkedin">

                            </div>
                        </div>


                        <div class="form-group goldPlanOption">
                            <label class="col-sm-4 control-label">Twitter</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control midia" name="SeguidoresTwitter" id="SeguidoresTwitter" placeholder="Link da sua page no Twitter">
                                @*<input type="number"  class="form-control midia" name="PorSemanaTwitter" id="PorSemanaTwitter" placeholder="Média de tweets por semana">*@
                            </div>
                        </div>


                        <div class="form-group">
                            <div class="col-sm-offset-4 col-sm-8">
                                <button type="submit" class="btn btn-info confirmButton" id="discover">DESCUBRA</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-offset-4 col-sm-8">
                                <img src="~/img/logo-pagseguro1.png" />
                            </div>
                        </div>

                    </form>
                    <script type="text/javascript" src="https://stc.pagseguro.uol.com.br/pagseguro/api/v2/checkout/pagseguro.lightbox.js"></script>

                </div>
            </div>
    </div>
</section>

<script>
    function getFormObj(formId) {
        var formObj = {};
        var inputs = $('#' + formId).serializeArray();
        $.each(inputs, function (i, input) {
            formObj[input.name] = input.value;
        });
        return formObj;
    }

    $(document).ready(function () {
        //your code here

        var url = 'http://localhost:50174/api/CompanyAPI';


        var changePaymentItem = function () {
            console.log("mudar o form");
        };


        $("#goldPlan").click(function () {
            $(".goldPlanOption").show();
            $("#itemCode").val("E9BE6BDA7171350EE4A1DF8BB2D58B1C");
        });

        $("#basicPlan").click(function () {
            $("#itemCode").val("149F03396262A3CDD4999F8DEF3A7AA9");
            $(".goldPlanOption").hide();
        });

        $("#discover").click(function () {
            var formData = getFormObj("companyForm");
            console.log(formData);

            $.post(url, formData, function (response) {
                console.log(response);
                // callback success
            }, function (response) {
                // callback error
            });


            $.get(url, function (response) {
                console.log(response);
                // callback success
            }, function (response) {
                // callback error
            });
        }

        //$.post(url, { name: 'Darlan', lastname: 'Mendonça' }, function (response) {
        //    // callback success
        //}, function (response) {
        //    // callback error
        );
    });

</script>
