
@{
    ViewBag.Title = "Faça o Teste";
}

<section style="margin-top: 5%">
    <div class="container">
        <div class="col-lg-offset-3 col-lg-6">
            <div class="row">
                <div>
                    <form id="companyForm" action="https://pagseguro.uol.com.br/checkout/v2/cart.html?action=add" method="post" onsubmit="PagSeguroLightbox(this); return false" class="form-horizontal">
                        <input type="hidden" name="itemCode" value="EE7B3781D1D17C1004D60FBE4CF35732" />
                        @*<input type="hidden" name="iot" value="button" />*@
                        @*<input type="image" src="https://stc.pagseguro.uol.com.br/public/img/botoes/pagamentos/209x48-comprar-assina.gif" name="submit" alt="Pague com PagSeguro - é rápido, grátis e seguro!" />*@

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="fullname">Nome Completo:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="fullName" id="fullName" placeholder="João da Silva" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4" for="email">E-mail:</label>
                            <div class="col-sm-8">
                                <input type="email" class="form-control" name="email" id="email" placeholder="emails@email.com" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companyName">Nome da Empresa:</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="companyName" id="companyName" placeholder="Empresa ME" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companyName">CPF ou CNPJ:</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" name="identityId" id="identityId" placeholder="12345678909" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companyType">Ramo da Empresa:</label>
                            <div class="col-sm-8">
                                <select class="form-control"name="companyType" id="companyType" required>
                                    <option>Selecionar</option>
                                    <option>Indústria</option>
                                    <option>Comércio</option>
                                    <option>Serviços</option>
                                    <option>Tecnologia</option>
                                    <option>Autônomo</option>
                                </select>
                            </div>
                        </div>


                        <div class="form-group">
                            <label class="control-label col-sm-4" for="companySize">Tamanho da Empresa:</label>
                            <div class="col-sm-8">
                                <select class="form-control" name="companySize" id="companySize" required>
                                    <option>Selecionar</option>
                                    <option>até 9 pessoas</option>
                                    <option>De 10 a 49</option>
                                    <option>50 ou mais</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-4 label-center">Facebook</label>
                            <div class="col-sm-8">
                                <input type="number" step=0.01 class="form-control midia" name="LikesFacebook" id="LikesFacebook" placeholder="Nº Likes na Fanpage" >
                                <input type="number" step=0.01 class="form-control midia" name="PostSemanaFacebook" id="PostSemanaFacebook" placeholder="Média de Posts por semana" >
                                <input type="number" step=0.01 class="form-control midia" name="InteracoesPostFacebook" id="InteracoesPostFacebook" placeholder="Média de interações nos posts" >
                                <input type="number" step=0.01 class="form-control midia" name="CompartilhamentoFacebook" id="CompartilhamentoFacebook" placeholder="Média de Compartilhamento" >
                            </div>
                        </div>
                        <br />
                        <div class="form-group">
                            <label class="col-sm-4 label-center">Instagram</label>
                            <div class="col-sm-8">
                                <input type="number" step=0.01 class="form-control midia" name="SeguidoresInstagram" id="SeguidoresInstagram" placeholder="Nº Seguidores">
                                <input type="number" step=0.01 class="form-control midia" name="PostSemanaInstagram" id="PostSemanaInstagram" placeholder="Média de Posts por semana" >
                                <input type="number" step=0.01 class="form-control midia" name="CurtidaPostInstagram" id="CurtidaPostInstagram" placeholder="Média de curtidas por post" >
                                <input type="number" step=0.01 class="form-control midia" name="StoriesSemanaInstagram" id="StoriesSemanaInstagram" placeholder="Média de Stories por semana">
                                <input type="number" step=0.01 class="form-control midia" name="ViewPorStoryInstagram" id="ViewPorStoryInstagram" placeholder="Média de views por Story" >
                            </div>
                        </div>
                        <br />


                        <div class="form-group">
                            <label class="col-sm-4 label-center">Linkedin</label>
                            <div class="col-sm-8">
                                <input type="number" step=0.01 class="form-control midia" name="SeguidoresLinkedin" id="SeguidoresLinkedin" placeholder="Nº Seguidores" >
                                <input type="number" step=0.01 class="form-control midia" name="PostSemanaLinkedin" id="PostSemanaLinkedin" placeholder="Média de Posts por semana" >
                                <input type="number" step=0.01 class="form-control midia" name="CurtidaPostLinkedin" id="CurtidaPostLinkedin" placeholder="Média de curtidas por post" >
                                <input type="number" step=0.01 class="form-control midia" name="ImpressoesPostLinkedin" id="ImpressoesPostLinkedin" placeholder="Média de impressões por post" >
                            </div>             
                        </div>

                        <br />

                        <div class="form-group">
                            <label class="col-sm-4 label-center">Twitter</label>
                            <div class="col-sm-8">
                                <input type="number" step=0.01 class="form-control midia" name="SeguidoresTwitter" id="SeguidoresTwitter" placeholder="Nº Seguidores">
                                <input type="number" step=0.01 class="form-control midia" name="PorSemanaTwitter" id="PorSemanaTwitter" placeholder="Média de tweets por semana">
                            </div>                  
                        </div>                      
                                                    

                        <div class="form-group">
                            <div class="col-sm-offset-4 col-sm-8">
                                <button type="submit" class="btn btn-info confirmButton" id="discover">DESCUBRA</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-offset-4 col-sm-8">
                                <img src="~/img/logo-pagseguro1.png"/>
                            </div>
                        </div>

                    </form>
                    <script type="text/javascript" src="https://stc.pagseguro.uol.com.br/pagseguro/api/v2/checkout/pagseguro.lightbox.js"></script>

                </div>
            </div>
        </div>
    </div>
</section>

<script>
    function getFormObj(formId) {
        var formObj = {};
        var inputs = $('#' + formId).serializeArray();
        $.each(inputs, function (i, input) {
            formObj[input.name] = input.value;
        });
        return formObj;
    }

    $(document).ready(function () {
        //your code here

        var url = 'http://localhost:50174/api/CompanyAPI';

        //var data = $('#form').serializeArray().reduce(function (obj, item) {
        //    obj[item.name] = item.value;
        //    return obj;
        //}, {});

        


        $("#discover").click(function () {
            var formData = getFormObj("companyForm");
            console.log(formData);

            $.post(url, formData, function (response) {
                console.log(response);
                // callback success
            }, function (response) {
                // callback error
            });


            $.get(url, function (response) {
                console.log(response);
                // callback success
            }, function (response) {
                // callback error
            });
        }

        //$.post(url, { name: 'Darlan', lastname: 'Mendonça' }, function (response) {
        //    // callback success
        //}, function (response) {
        //    // callback error
        );
    });

</script>
